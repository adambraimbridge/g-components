import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import '../../shared/critical-path.scss';
import SeatsBarChart from './';
import { formatResultsData } from '../sample-data/utils.js';
import resultsStart from '../sample-data/results/start.json';
import resultsMiddle from '../sample-data/results/middle.json';
import resultsEnd from '../sample-data/results/end.json';

export const partiesToShowInTable = [
  'Conservative',
  'Brexit',
  'Labour',
  'Liberal Democrats',
  'Green',
  'DUP',
  'Sinn FÃ©in',
  'SNP',
];

export const partiesThatAreOthers = [
  'Alliance',
  'Independent/Other',
  'Plaid Cymru',
  'SDLP',
  'Ukip',
  'UUP',
  'Independent Group for Change',
];

export const resultsStartFormatted = formatResultsData(
  resultsStart,
  partiesToShowInTable,
  partiesThatAreOthers,
);
export const resultsMiddleFormatted = formatResultsData(
  resultsMiddle,
  partiesToShowInTable,
  partiesThatAreOthers,
);
export const resultsEndFormatted = formatResultsData(
  resultsEnd,
  partiesToShowInTable,
  partiesThatAreOthers,
);

<Meta title="Elections|GE2019/Seats Bar Chart" component={SeatsBarChart} />

# Seats Bar Chart component

Shows the seat distribution in Parliament.

<Preview>
  <Story name="Examples">
    <>
      At start of vote count:
      <SeatsBarChart
        tableHeaders={['Party', 'Seats', '% of vote']}
        data={resultsStartFormatted}
        majority={320}
      />
      Mid-count:
      <SeatsBarChart
        tableHeaders={['Party', 'Seats', '% of vote']}
        data={resultsMiddleFormatted}
        majority={320}
      />
      Final result:
      <SeatsBarChart
        tableHeaders={['Party', 'Seats', '% of vote']}
        data={resultsEndFormatted}
        majority={320}
      />
    </>
  </Story>
</Preview>
